<nav class="header mobile_header navbar fixed-top py-3">
    <div class="container-fluid d-flex align-items-center">
        <%= image_tag "/assets/my_closet_logo/logo1.png" %>

        <button type="button" class="navbar-toggler" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-expanded="false" aria-controls="offcanvasNavbar" aria-label="ナビゲーションの切替">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="sidebar offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">

            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">閉じる</h5>

                <button type="button" class="btn-close fw-bold" data-bs-dismiss="offcanvas" aria-label="閉じる"></button>
            </div>

            <div class="offcanvas-body">
                <div class="d-flex flex-column flex-shrink-0 sticky-top vh-100">
                    <ul class="nav nav-pills flex-column">
                        <span class="fs-4 pt-3 px-5">メニュー</span>

                        <li class="nav-item pt-2">
                            <a href="/" class="d-flex align-items-center px-5 py-1" aria-current="page">
                                <i class="bi bi-chat"></i>
                                SNS
                            </a>
                        </li>

                        <li class="nav-item">
                            <a href="/closet/list" class="d-flex align-items-center px-5 py-1">
                                <i class="bi bi bi-grid fs-5"></i>
                                クローゼット
                            </a>
                        </li>

                        <li class="nav-item">
                            <a href="/suggestion" class="d-flex align-items-center px-5 py-1">
                                <i class="bi bi-robot fs-5"></i>
                                AI提案
                            </a>
                        </li>

                        <li class="nav-item">
                            <a href="/question/list" class="d-flex align-items-center px-5 py-1">
                                <i class="bi bi-question-circle fs-5"></i>
                                着こなしQ&A
                            </a>
                        </li>
                        
                        <li class="nav-item">
                            <%# * ユーザーがログインしているかの判定をする %>
                            <% if user_signed_in? %>
                                <%= link_to "/profile/show/#{current_user.id}", class: "d-flex align-items-center px-5 py-1" do %>
                                    <i class="bi bi-person-circle"></i>
                                    マイページ
                                <% end %>
                            <% else %>
                                <%= link_to "/profile/show/1", class: "d-flex align-items-center px-5 py-1" do %>
                                    <i class="bi bi-person-circle"></i>
                                    マイページ
                                <% end %>
                            <% end %>
                        </li>

                        <li class="nav-item">
                            <a href="/profile/alert/list" class="d-flex align-items-center px-5 py-1">
                                <i class="bi bi-bell"></i>
                                通知
                            </a>
                        </li>

                        <hr class="mx-4">

                        <span class="fs-4 pt-3 px-5">その他</span>

                        <li class="nav-item pt-2">
                            <a href="/contact/new" class="active d-flex align-items-center px-5 py-1">
                                <i class="bi bi-box-arrow-up-right"></i>
                                お問い合わせ
                            </a>
                        </li>
                        
                        <li class="nav-item">
                            <%# * ユーザーがログインしているかの判定をする %>
                            <% if user_signed_in? %>
                                <%= link_to destroy_user_session_path, method: :delete, class: "d-flex align-items-center px-5 py-1" do %>
                                    <i class="bi bi-person-circle"></i>
                                    サインアウト
                                <% end %>
                            <% else %>
                                <%= link_to new_user_session_path, method: :get, class: "d-flex align-items-center px-5 py-1" do %>
                                    <i class="bi bi-person-circle"></i>
                                    サインイン
                                <% end %>
                            <% end %>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>

<%= render "layouts/error" %>